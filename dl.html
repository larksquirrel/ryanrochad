<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Ryan Rochadd</title>

<style type="text/css">
  „ÄÅ
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f4f4f4;
}

.container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 100vh;
  padding: 0 50px;
}

.left-section {
  background-color: white;
  padding: 30px;
  border-radius: 5px;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
  width: 400px;
}

.logo img {
  width: 150px;
}

.tabs {
  display: flex;
  list-style-type: none;
  margin: 20px 0;
  padding: 0;
}

.tabs li {
  padding: 10px 20px;
  cursor: pointer;
  border-bottom: 2px solid transparent;
}

.tabs li.active {
  border-bottom: 2px solid #6c5ce7;
  color: #6c5ce7;
}

form input {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 3px;
  box-sizing: border-box;
}

form button {
  width: 100%;
  padding: 10px;
  background-color: #6c5ce7;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
}

.forgot-password {
  text-align: center;
  margin-top: 10px;
  color: #6c5ce7;
  cursor: pointer;
}

.or {
  text-align: center;
  margin: 10px 0;
}

.social-login a {
  margin: 0 5px;
}

.right-section {
  flex: 1;
  text-align: center;
}

.right-section img {
  max-width: 100%;
  height: auto;
}

#signup-form {
  display: none;
}
</style>
</head>

<body>
<div class="container">
  <div class="left-section">
    <div class="logo">
      <img src="images/37eef08795715baa9746a6829c38d89.png" width="20" height="120" alt=""/>
    </div>
    <ul class="tabs">
      <li class="active" id="login-tab">LOGIN</li>
      <li id="signup-tab">SIGN UP</li>
    </ul>

    <!-- ÁôªÂΩïË°®Âçï -->
    <form id="login-form">
      <input type="email" id="login-email" placeholder="Email">
      <input type="password" id="login-password" placeholder="Password">
      <button type="button" id="login-button">LOGIN</button>
      <p class="forgot-password">Forgot Password?</p>
      <p class="or">or</p>
      <div class="social-login">
        <p align="center">
          <a href="https://weixin.qq.com/">WeChat Login</a>
          <a href="https://im.qq.com/index/">QQ Login</a>
        </p>
      </div>
    </form>

    <!-- Ê≥®ÂÜåË°®Âçï -->
    <form id="signup-form">
      <input type="text" id="username" placeholder="Username" required>
      <input type="email" id="email" placeholder="Email" required>
      <input type="password" id="password" placeholder="Password" required>
      <input type="password" id="confirm-password" placeholder="Confirm Password" required>
      <button type="button" id="signup-button">SIGN UP</button>
    </form>
  </div>

  <div class="right-section">
    <img src="images/cc54910e440a2e5c3bc6fcc9b17674a.jpg" width="900" height="700" alt=""/>
  </div>
</div>

<!-- ============================ -->
<!-- üî• SUPABASE ÈõÜÊàê‰ª£Á†ÅÂºÄÂßã üî• -->
<!-- ============================ -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const { createClient } = supabase;
const client = createClient(
  'https://nixlipqiyezzfvwqtdzj.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5peGxpcHFpeWV6emZ2d3F0ZHpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMTIxODEsImV4cCI6MjA3NzU4ODE4MX0.rZvDmHfMkF5gZM2VWSQuS35LfWL2naJqScVY1Z8g0B4'
);

document.addEventListener('DOMContentLoaded', function() {
  const loginTab = document.getElementById('login-tab');
  const signupTab = document.getElementById('signup-tab');
  const loginForm = document.getElementById('login-form');
  const signupForm = document.getElementById('signup-form');
  const loginButton = document.getElementById('login-button');
  const signupButton = document.getElementById('signup-button');

  // ÂàáÊç¢ÈÄâÈ°πÂç°
  loginTab.addEventListener('click', function() {
    loginTab.classList.add('active');
    signupTab.classList.remove('active');
    loginForm.style.display = 'block';
    signupForm.style.display = 'none';
  });

  signupTab.addEventListener('click', function() {
    signupTab.classList.add('active');
    loginTab.classList.remove('active');
    signupForm.style.display = 'block';
    loginForm.style.display = 'none';
  });

  // Ê≥®ÂÜåÂäüËÉΩ
  signupButton.addEventListener('click', async function() {
    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm-password').value;

    if (!username || !email || !password || !confirmPassword) {
      alert('Please fill in all fields');
      return;
    }

    if (password !== confirmPassword) {
      alert('Passwords do not match');
      return;
    }

    try {
      const { data, error } = await client.auth.signUp({
        email,
        password,
        options: { data: { username } }
      });

      if (error) {
        alert('Registration failed: ' + error.message);
      } else {
        alert('Registration successful! Please verify your email.');
        // ÂàáÊç¢ÂõûÁôªÂΩïÁïåÈù¢
        loginTab.click();
        signupForm.reset();
      }
    } catch (err) {
      alert('Registration error: ' + err.message);
    }
  });

  // ÁôªÂΩïÂäüËÉΩ
  loginButton.addEventListener('click', async function() {
    const email = document.getElementById('login-email').value.trim();
    const password = document.getElementById('login-password').value;

    if (!email || !password) {
      alert('Please enter email and password');
      return;
    }

    try {
      const { data, error } = await client.auth.signInWithPassword({
        email,
        password
      });

      if (error) {
        alert('Login failed: ' + error.message);
      } else {
        alert('Login successful!');
        window.location.href = 'zhuye.html';
      }
    } catch (err) {
      alert('Login error: ' + err.message);
    }
  });
});
</script>
<!-- ============================ -->
<!-- üî• SUPABASE ÈõÜÊàê‰ª£Á†ÅÁªìÊùü üî• -->
<!-- ============================ -->

</body>
</html>
